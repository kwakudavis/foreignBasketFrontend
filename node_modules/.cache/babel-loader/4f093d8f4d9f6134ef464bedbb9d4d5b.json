{"ast":null,"code":"import _toConsumableArray from\"/Users/davis/Desktop/Nonsao/Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _ from\"lodash\";export default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var action=arguments.length>1?arguments[1]:undefined;//Set variables to handle product and currState\nvar product=action.payload;var currState=state;switch(action.type){case\"ADD_TOCART\":////// Attempt to find item in Cart\nvar queriedProduct=_.find(currState,function(o){return o.productId===product.productId;});////////// If product was not found in cart, set product quantity to 1 and add item to cart\nif(queriedProduct===undefined){product.QTY=1;currState=[product].concat(_toConsumableArray(state));}else{/////Otherwise, increase product quantity in cart by 1\ncurrState=_.forEach(currState,function(o){if(o.productId===product.productId){o.QTY+=1;return currState;}});}console.log(currState);return currState;case\"REMOVE_FROM_CART\"://////Check if product is in cart\nvar productFetched=_.find(currState,function(o){return o.productId===product.productId;});/////Condition if product is in Cart\nif(productFetched!==undefined){///if the product quantity is 1, then remove product from Cart entirely and return Cart\nif(productFetched.QTY===1){currState=_.reject(currState,function(o){return o.productId===product.productId;});return currState;}else{///Otherwise decrease product quantity by 1\ncurrState=_.forEach(currState,function(o){if(o.productId===product.productId){o.QTY-=1;return currState;}});}return currState;}else{//////return do nothing and return previous state of cart\nreturn currState;}case\"DELETE_FROM_CART\"://////Reject product form the collection of products in the cart state.\ncurrState=_.reject(currState,function(o){return o.productId===product.productId;});return currState;case\"SUBMIT_ORDER_FORM\"://////Empties cart after order has been submitted to server\ncurrState=[];return currState;default:return state;}});","map":{"version":3,"names":["_","state","action","product","payload","currState","type","queriedProduct","find","o","productId","undefined","QTY","forEach","console","log","productFetched","reject"],"sources":["/Users/davis/Desktop/Nonsao/Front/src/reducers/cartReducer.js"],"sourcesContent":["import _ from \"lodash\";\r\nexport default (state = [], action) => {\r\n  //Set variables to handle product and currState\r\n  const product = action.payload;\r\n  let currState = state;\r\n  switch (action.type) {\r\n    case \"ADD_TOCART\":\r\n      ////// Attempt to find item in Cart\r\n      const queriedProduct = _.find(currState, function (o) {\r\n        return o.productId === product.productId;\r\n      });\r\n\r\n      ////////// If product was not found in cart, set product quantity to 1 and add item to cart\r\n      if (queriedProduct === undefined) {\r\n        product.QTY = 1;\r\n        currState = [product, ...state];\r\n      } else {\r\n        /////Otherwise, increase product quantity in cart by 1\r\n        currState = _.forEach(currState, function (o) {\r\n          if (o.productId === product.productId) {\r\n            o.QTY += 1;\r\n            return currState;\r\n          }\r\n        });\r\n      }\r\n\r\n      console.log(currState);\r\n      return currState;\r\n\r\n    case \"REMOVE_FROM_CART\":\r\n      //////Check if product is in cart\r\n      const productFetched = _.find(currState, function (o) {\r\n        return o.productId === product.productId;\r\n      });\r\n\r\n      /////Condition if product is in Cart\r\n      if (productFetched !== undefined) {\r\n        ///if the product quantity is 1, then remove product from Cart entirely and return Cart\r\n\r\n        if (productFetched.QTY === 1) {\r\n          currState = _.reject(currState, function (o) {\r\n            return o.productId === product.productId;\r\n          });\r\n          return currState;\r\n        } else {\r\n          ///Otherwise decrease product quantity by 1\r\n          currState = _.forEach(currState, function (o) {\r\n            if (o.productId === product.productId) {\r\n              o.QTY -= 1;\r\n              return currState;\r\n            }\r\n          });\r\n        }\r\n        return currState;\r\n      } else {\r\n        //////return do nothing and return previous state of cart\r\n\r\n        return currState;\r\n      }\r\n\r\n    case \"DELETE_FROM_CART\":\r\n      //////Reject product form the collection of products in the cart state.\r\n\r\n      currState = _.reject(currState, function (o) {\r\n        return o.productId === product.productId;\r\n      });\r\n\r\n      return currState;\r\n\r\n    case \"SUBMIT_ORDER_FORM\":\r\n      //////Empties cart after order has been submitted to server\r\n\r\n      currState = [];\r\n      return currState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"],"mappings":"mKAAA,MAAOA,EAAC,KAAM,QAAQ,CACtB,eAAe,UAAwB,IAAvBC,MAAK,2DAAG,EAAE,IAAEC,OAAM,2CAChC;AACA,GAAMC,QAAO,CAAGD,MAAM,CAACE,OAAO,CAC9B,GAAIC,UAAS,CAAGJ,KAAK,CACrB,OAAQC,MAAM,CAACI,IAAI,EACjB,IAAK,YAAY,CACf;AACA,GAAMC,eAAc,CAAGP,CAAC,CAACQ,IAAI,CAACH,SAAS,CAAE,SAAUI,CAAC,CAAE,CACpD,MAAOA,EAAC,CAACC,SAAS,GAAKP,OAAO,CAACO,SAAS,CAC1C,CAAC,CAAC,CAEF;AACA,GAAIH,cAAc,GAAKI,SAAS,CAAE,CAChCR,OAAO,CAACS,GAAG,CAAG,CAAC,CACfP,SAAS,EAAIF,OAAO,4BAAKF,KAAK,EAAC,CACjC,CAAC,IAAM,CACL;AACAI,SAAS,CAAGL,CAAC,CAACa,OAAO,CAACR,SAAS,CAAE,SAAUI,CAAC,CAAE,CAC5C,GAAIA,CAAC,CAACC,SAAS,GAAKP,OAAO,CAACO,SAAS,CAAE,CACrCD,CAAC,CAACG,GAAG,EAAI,CAAC,CACV,MAAOP,UAAS,CAClB,CACF,CAAC,CAAC,CACJ,CAEAS,OAAO,CAACC,GAAG,CAACV,SAAS,CAAC,CACtB,MAAOA,UAAS,CAElB,IAAK,kBAAkB,CACrB;AACA,GAAMW,eAAc,CAAGhB,CAAC,CAACQ,IAAI,CAACH,SAAS,CAAE,SAAUI,CAAC,CAAE,CACpD,MAAOA,EAAC,CAACC,SAAS,GAAKP,OAAO,CAACO,SAAS,CAC1C,CAAC,CAAC,CAEF;AACA,GAAIM,cAAc,GAAKL,SAAS,CAAE,CAChC;AAEA,GAAIK,cAAc,CAACJ,GAAG,GAAK,CAAC,CAAE,CAC5BP,SAAS,CAAGL,CAAC,CAACiB,MAAM,CAACZ,SAAS,CAAE,SAAUI,CAAC,CAAE,CAC3C,MAAOA,EAAC,CAACC,SAAS,GAAKP,OAAO,CAACO,SAAS,CAC1C,CAAC,CAAC,CACF,MAAOL,UAAS,CAClB,CAAC,IAAM,CACL;AACAA,SAAS,CAAGL,CAAC,CAACa,OAAO,CAACR,SAAS,CAAE,SAAUI,CAAC,CAAE,CAC5C,GAAIA,CAAC,CAACC,SAAS,GAAKP,OAAO,CAACO,SAAS,CAAE,CACrCD,CAAC,CAACG,GAAG,EAAI,CAAC,CACV,MAAOP,UAAS,CAClB,CACF,CAAC,CAAC,CACJ,CACA,MAAOA,UAAS,CAClB,CAAC,IAAM,CACL;AAEA,MAAOA,UAAS,CAClB,CAEF,IAAK,kBAAkB,CACrB;AAEAA,SAAS,CAAGL,CAAC,CAACiB,MAAM,CAACZ,SAAS,CAAE,SAAUI,CAAC,CAAE,CAC3C,MAAOA,EAAC,CAACC,SAAS,GAAKP,OAAO,CAACO,SAAS,CAC1C,CAAC,CAAC,CAEF,MAAOL,UAAS,CAElB,IAAK,mBAAmB,CACtB;AAEAA,SAAS,CAAG,EAAE,CACd,MAAOA,UAAS,CAElB,QACE,MAAOJ,MAAK,CAAC,CAEnB,CAAC"},"metadata":{},"sourceType":"module"}