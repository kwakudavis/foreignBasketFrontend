{"ast":null,"code":"import _regeneratorRuntime from \"/Users/davis/Desktop/Nonsao/testEnv/foreignBasketFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/davis/Desktop/Nonsao/testEnv/foreignBasketFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/davis/Desktop/Nonsao/testEnv/foreignBasketFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/davis/Desktop/Nonsao/testEnv/foreignBasketFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/davis/Desktop/Nonsao/testEnv/foreignBasketFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/davis/Desktop/Nonsao/testEnv/foreignBasketFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/davis/Desktop/Nonsao/testEnv/foreignBasketFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/Users/davis/Desktop/Nonsao/testEnv/foreignBasketFrontend/src/components/Product.js\";\nimport React from \"react\";\nimport _ from \"lodash\";\nimport \"../index.css\";\nimport { connect } from \"react-redux\";\nimport { addToCart } from \"../actions\";\nimport { removeFromCart } from \"../actions\";\nimport { deleteFromCart } from \"../actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Product = /*#__PURE__*/function (_React$Component) {\n  _inherits(Product, _React$Component);\n  var _super = _createSuper(Product);\n  function Product(props) {\n    var _this;\n    _classCallCheck(this, Product);\n    _this = _super.call(this, props);\n    _this.handleOnClickAddItem = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(product, e) {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.next = 3;\n              return _this.props.addToCart(product);\n            case 3:\n              ///////Update cart\n              _this.setState({\n                QTY: _this.numberInCart(product.productId)\n              });\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    _this.handleOnclickRemoveItem = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(product, e) {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              e.preventDefault();\n              _context2.next = 3;\n              return _this.props.removeFromCart(product);\n            case 3:\n              ///////Update cart\n              _this.setState({\n                QTY: _this.numberInCart(product.productId)\n              });\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n      return function (_x3, _x4) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    _this.state = {\n      QTY: 0\n    };\n    _this.handleOnClickAddItem = _this.handleOnClickAddItem.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(Product, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(\"we refreshed\");\n    }\n\n    /////// Handles addition of product to cart\n  }, {\n    key: \"numberInCart\",\n    value:\n    ////////Counts the number of a particular product in cart\n    function numberInCart(productId) {\n      //////Find product in cart where productId matches product's id in cart,\n      ////// returns undefined if product is not found in cart.\n      var fetchedProduct = _.find(this.props.cart, function (o) {\n        return o.productId === productId;\n      });\n\n      //////// If productInCart is undefined, return 0\n      if (fetchedProduct !== undefined) {\n        return fetchedProduct.QTY;\n      } else {\n        //////Else return the QTY of the product in the Cart\n        return 0;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ui card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"productQuantity\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\" \", this.state.QTY]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"productInStock\",\n              children: this.props.product.productInStock ? \"\" : \"Out of Stock\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"productImageDiv\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"productImage\",\n              alt: \"\",\n              src: this.props.product.productImgUrl\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"productName\",\n            children: [_.capitalize(this.props.product.productName), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"productPrice\",\n            children: [\"€\", parseFloat(this.props.product.productPrice).toFixed(2), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"addorRemoveProductButton\",\n            disabled: false,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"plus circle icon\",\n              onClick: function onClick(e) {\n                return _this2.handleOnClickAddItem(_this2.props.product, e);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 13\n            }, this), \"|\", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"minus circle icon\",\n              onClick: function onClick(e) {\n                return _this2.handleOnclickRemoveItem(_this2.props.product, e);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n  return Product;\n}(React.Component);\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    storesInvetory: state.storesInvetory,\n    products: state.products,\n    inventories: state.storesInvetory,\n    stores: state.stores,\n    cart: state.cart\n  };\n};\nexport default connect(mapStateToProps, {\n  addToCart: addToCart,\n  removeFromCart: removeFromCart,\n  deleteFromCart: deleteFromCart\n})(Product);","map":{"version":3,"names":["React","_","connect","addToCart","removeFromCart","deleteFromCart","Product","props","handleOnClickAddItem","product","e","preventDefault","setState","QTY","numberInCart","productId","handleOnclickRemoveItem","state","bind","console","log","fetchedProduct","find","cart","o","undefined","productInStock","productImgUrl","capitalize","productName","parseFloat","productPrice","toFixed","Component","mapStateToProps","storesInvetory","products","inventories","stores"],"sources":["/Users/davis/Desktop/Nonsao/testEnv/foreignBasketFrontend/src/components/Product.js"],"sourcesContent":["import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport \"../index.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { addToCart } from \"../actions\";\r\nimport { removeFromCart } from \"../actions\";\r\nimport { deleteFromCart } from \"../actions\";\r\n\r\nclass Product extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { QTY: 0 };\r\n\r\n    this.handleOnClickAddItem = this.handleOnClickAddItem.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"we refreshed\");\r\n  }\r\n\r\n  /////// Handles addition of product to cart\r\n  handleOnClickAddItem = async (product, e) => {\r\n    e.preventDefault();\r\n    await this.props.addToCart(product);\r\n\r\n    ///////Update cart\r\n    this.setState({ QTY: this.numberInCart(product.productId) });\r\n  };\r\n\r\n  /////Handles removal of product from cart\r\n\r\n  handleOnclickRemoveItem = async (product, e) => {\r\n    e.preventDefault();\r\n    await this.props.removeFromCart(product);\r\n\r\n    ///////Update cart\r\n    this.setState({ QTY: this.numberInCart(product.productId) });\r\n  };\r\n\r\n  \r\n\r\n  ////////Counts the number of a particular product in cart\r\n  numberInCart(productId) {\r\n    //////Find product in cart where productId matches product's id in cart,\r\n    ////// returns undefined if product is not found in cart.\r\n    const fetchedProduct = _.find(this.props.cart, function (o) {\r\n      return o.productId === productId;\r\n    });\r\n\r\n    //////// If productInCart is undefined, return 0\r\n    if (fetchedProduct !== undefined) {\r\n      return fetchedProduct.QTY;\r\n    } else {\r\n      //////Else return the QTY of the product in the Cart\r\n      return 0;\r\n    }\r\n  }\r\n  \r\n \r\n  render() {\r\n    return (\r\n      <div className=\"ui card\"  >\r\n        <div className=\"content\" >\r\n          <div className=\"productQuantity\">\r\n            <span> {this.state.QTY}</span>\r\n          </div>\r\n          <div>\r\n            <span className=\"productInStock\">\r\n              {this.props.product.productInStock ? \"\" : \"Out of Stock\"}\r\n            </span>\r\n          </div>\r\n          <div className=\"productImageDiv\">\r\n            <img\r\n              className=\"productImage\"\r\n              alt=\"\"\r\n              src={this.props.product.productImgUrl}\r\n            ></img>\r\n          </div>\r\n\r\n          <div className=\"productName\">\r\n            {_.capitalize(this.props.product.productName)}{\" \"}\r\n          </div>\r\n\r\n          <div className=\"productPrice\">\r\n            {\"€\"}\r\n            {parseFloat(this.props.product.productPrice).toFixed(2)}{\" \"}\r\n          </div>\r\n          <div className=\"addorRemoveProductButton\" disabled={false}>\r\n            <button\r\n              \r\n              className=\"plus circle icon\"\r\n              onClick={(e) => this.handleOnClickAddItem(this.props.product, e)}\r\n            ></button>\r\n            |\r\n            <i\r\n              className=\"minus circle icon\"\r\n              onClick={(e) =>\r\n                this.handleOnclickRemoveItem(this.props.product, e)\r\n              }\r\n            ></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    storesInvetory: state.storesInvetory,\r\n    products: state.products,\r\n    inventories: state.storesInvetory,\r\n    stores: state.stores,\r\n    cart: state.cart\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  addToCart,\r\n  removeFromCart,\r\n  deleteFromCart\r\n})(Product);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}