{"ast":null,"code":"import _regeneratorRuntime from\"/Users/davis/Desktop/Nonsao/Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/davis/Desktop/Nonsao/Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/davis/Desktop/Nonsao/Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/davis/Desktop/Nonsao/Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/davis/Desktop/Nonsao/Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/davis/Desktop/Nonsao/Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/davis/Desktop/Nonsao/Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import _ from\"lodash\";import\"../index.css\";import{connect}from\"react-redux\";import{addToCart}from\"../actions\";import{removeFromCart}from\"../actions\";import{deleteFromCart}from\"../actions\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Product=/*#__PURE__*/function(_React$Component){_inherits(Product,_React$Component);var _super=_createSuper(Product);function Product(props){var _this;_classCallCheck(this,Product);_this=_super.call(this,props);_this.handleOnClickAddItem=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(product,e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return _this.props.addToCart(product);case 3:///////Update cart\n_this.setState({QTY:_this.numberInCart(product.productId)});case 4:case\"end\":return _context.stop();}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();_this.handleOnclickRemoveItem=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(product,e){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return _this.props.removeFromCart(product);case 3:///////Update cart\n_this.setState({QTY:_this.numberInCart(product.productId)});case 4:case\"end\":return _context2.stop();}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();_this.state={QTY:0};_this.handleOnClickAddItem=_this.handleOnClickAddItem.bind(_assertThisInitialized(_this));return _this;}_createClass(Product,[{key:\"componentDidMount\",value:function componentDidMount(){console.log(\"we refreshed\");}/////// Handles addition of product to cart\n},{key:\"numberInCart\",value:////////Counts the number of a particular product in cart\nfunction numberInCart(productId){//////Find product in cart where productId matches product's id in cart,\n////// returns undefined if product is not found in cart.\nvar fetchedProduct=_.find(this.props.cart,function(o){return o.productId===productId;});//////// If productInCart is undefined, return 0\nif(fetchedProduct!==undefined){return fetchedProduct.QTY;}else{//////Else return the QTY of the product in the Cart\nreturn 0;}}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{className:\"ui card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"productQuantity\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\" \",this.state.QTY]})}),/*#__PURE__*/_jsx(\"div\",{className:\"productImageDiv\",children:/*#__PURE__*/_jsx(\"img\",{className:\"productImage\",alt:\"\",src:this.props.product.productImgUrl})}),/*#__PURE__*/_jsxs(\"div\",{className:\"productName\",children:[_.capitalize(this.props.product.productName),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productPrice\",children:[\"€\",parseFloat(this.props.product.productPrice).toFixed(2),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addorRemoveProductButton\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"plus circle icon\",onClick:function onClick(e){return _this2.handleOnClickAddItem(_this2.props.product,e);}}),\"|\",/*#__PURE__*/_jsx(\"i\",{className:\"minus circle icon\",onClick:function onClick(e){return _this2.handleOnclickRemoveItem(_this2.props.product,e);}})]})]})});}}]);return Product;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{storesInvetory:state.storesInvetory,products:state.products,inventories:state.storesInvetory,stores:state.stores,cart:state.cart};};export default connect(mapStateToProps,{addToCart:addToCart,removeFromCart:removeFromCart,deleteFromCart:deleteFromCart})(Product);","map":{"version":3,"names":["React","_","connect","addToCart","removeFromCart","deleteFromCart","Product","props","handleOnClickAddItem","product","e","preventDefault","setState","QTY","numberInCart","productId","handleOnclickRemoveItem","state","bind","console","log","fetchedProduct","find","cart","o","undefined","productImgUrl","capitalize","productName","parseFloat","productPrice","toFixed","Component","mapStateToProps","storesInvetory","products","inventories","stores"],"sources":["/Users/davis/Desktop/Nonsao/Front/src/components/Product.js"],"sourcesContent":["import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport \"../index.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { addToCart } from \"../actions\";\r\nimport { removeFromCart } from \"../actions\";\r\nimport { deleteFromCart } from \"../actions\";\r\n\r\nclass Product extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { QTY: 0 };\r\n\r\n    this.handleOnClickAddItem = this.handleOnClickAddItem.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"we refreshed\");\r\n  }\r\n\r\n  /////// Handles addition of product to cart\r\n  handleOnClickAddItem = async (product, e) => {\r\n    e.preventDefault();\r\n    await this.props.addToCart(product);\r\n\r\n    ///////Update cart\r\n    this.setState({ QTY: this.numberInCart(product.productId) });\r\n  };\r\n\r\n  /////Handles removal of product from cart\r\n\r\n  handleOnclickRemoveItem = async (product, e) => {\r\n    e.preventDefault();\r\n    await this.props.removeFromCart(product);\r\n\r\n    ///////Update cart\r\n    this.setState({ QTY: this.numberInCart(product.productId) });\r\n  };\r\n\r\n  ////////Counts the number of a particular product in cart\r\n  numberInCart(productId) {\r\n    //////Find product in cart where productId matches product's id in cart,\r\n    ////// returns undefined if product is not found in cart.\r\n    const fetchedProduct = _.find(this.props.cart, function (o) {\r\n      return o.productId === productId;\r\n    });\r\n\r\n    //////// If productInCart is undefined, return 0\r\n    if (fetchedProduct !== undefined) {\r\n      return fetchedProduct.QTY;\r\n    } else {\r\n      //////Else return the QTY of the product in the Cart\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"ui card\">\r\n        <div className=\"content\">\r\n          <div className=\"productQuantity\">\r\n            <span> {this.state.QTY}</span>\r\n          </div>\r\n          <div className=\"productImageDiv\">\r\n            <img\r\n              className=\"productImage\"\r\n              alt=\"\"\r\n              src={this.props.product.productImgUrl}\r\n            ></img>\r\n          </div>\r\n\r\n          <div className=\"productName\">\r\n            {_.capitalize(this.props.product.productName)}{\" \"}\r\n          </div>\r\n\r\n          <div className=\"productPrice\">\r\n            {\"€\"}\r\n            {parseFloat(this.props.product.productPrice).toFixed(2)}{\" \"}\r\n          </div>\r\n          <div className=\"addorRemoveProductButton\">\r\n            <i\r\n              className=\"plus circle icon\"\r\n              onClick={(e) => this.handleOnClickAddItem(this.props.product, e)}\r\n            ></i>\r\n            |\r\n            <i\r\n              className=\"minus circle icon\"\r\n              onClick={(e) =>\r\n                this.handleOnclickRemoveItem(this.props.product, e)\r\n              }\r\n            ></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    storesInvetory: state.storesInvetory,\r\n    products: state.products,\r\n    inventories: state.storesInvetory,\r\n    stores: state.stores,\r\n    cart: state.cart\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  addToCart,\r\n  removeFromCart,\r\n  deleteFromCart\r\n})(Product);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}