{"ast":null,"code":"import _classCallCheck from \"/Users/davis/Desktop/Nonsao/testEnv/foreignBasketFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/davis/Desktop/Nonsao/testEnv/foreignBasketFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/davis/Desktop/Nonsao/testEnv/foreignBasketFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/davis/Desktop/Nonsao/testEnv/foreignBasketFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/davis/Desktop/Nonsao/testEnv/foreignBasketFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/Users/davis/Desktop/Nonsao/testEnv/foreignBasketFrontend/src/Shoppage.js\";\nimport React from \"react\";\nimport _ from \"lodash\";\nimport Shoppageheader from \"./components/Shoppageheader\";\nimport DisplayProductResults from \"./components/DisplayProductResults\";\nimport \"./index.css\";\nimport { fetchStoresInventory, setCartModalState } from \"./actions\";\nimport { connect } from \"react-redux\";\nimport { CartModal } from \"./Cartmodal\";\nimport { showModal } from \"./components/isModalActive\";\nimport ScrollButton from \"./components/ScrollButton\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Shoppage = /*#__PURE__*/function (_React$Component) {\n  var _s = $RefreshSig$();\n  _inherits(Shoppage, _React$Component);\n  var _super = _createSuper(Shoppage);\n  function Shoppage(props) {\n    var _this;\n    _classCallCheck(this, Shoppage);\n    _this = _super.call(this, props);\n    _this.store_name = \" \";\n    _this.store_address = \" \";\n    _this.store_id = \" \";\n    _this.store_inventory_id = \" \";\n    _this.selectedStoresInventory = [];\n    _this.store_inventory = function () {\n      return _this.props.inventories.map(function (inventory) {\n        /**   if (inventory.id === this.store_inventory_id) {\r\n          //this.setState({ store_inventory: inventory });\r\n          //  console.log(inventory.inventory[0].productId);\r\n          // console.log(inventory.inventory);\r\n          return inventory.inventory;\r\n        }*/\n\n        return null;\n      });\n    };\n    _this.state = {\n      searchedTerm: \"\",\n      selectedCategory: \"Categories\",\n      categoryOptions: [\"Categories\", \"meat and seafood\", \"condiments\", \"drinks and beverages\", \"fruits and vegetables\", \"grain, flour and cereal\", \"snacks and confectionaries\", \"beauty and household\"]\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n\n    // bind the handleUpdateSelectedCategory method\n    _this.handleUpdateSelectedCategory = _this.handleUpdateSelectedCategory.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(Shoppage, [{\n    key: \"componentDidMount\",\n    value: _s(function componentDidMount() {\n      _s();\n      try {\n        // if (this.props.location.state === undefined || (!this.props.location)) {\n        //   this.props.history.push(\"/\");\n        // } else {\n\n        var _useParams = useParams(),\n          id = _useParams.id,\n          name = _useParams.name,\n          address = _useParams.address,\n          inventory_id = _useParams.inventory_id;\n        this.store_id = {\n          id: id\n        };\n        this.stores_name = {\n          name: name\n        };\n        this.store_address = {\n          address: address\n        };\n        this.store_inventory_id = {\n          inventory_id: inventory_id\n        };\n        console.log(this.store_id);\n\n        //this.store_name = this.props.location.state.store_name;\n        // this.store_address = this.props.location.state.store_address;\n        //this.store_id = this.props.location.state.store_id;\n        // this.store_inventory_id = this.props.location.state.store_inventory_id;\n\n        // }\n      } catch (err) {}\n    }, \"7pnZt3YCkP/2fOl6xKrNUMELS/k=\", true)\n    /**  \r\n        ///Redirect to front page if the  shop url was entered directly into address bar, else set header values\r\n    \r\n        \r\n      */\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        searchedTerm: event.target.value\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      console.log(\"search term has been submitted\", this.state.searchedTerm);\n      event.preventDefault();\n    }\n  }, {\n    key: \"handleUpdateSelectedCategory\",\n    value: function handleUpdateSelectedCategory(event) {\n      try {\n        var value = event.target.value;\n        this.setState({\n          selectedCategory: value\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  }, {\n    key: \"displayBanner\",\n    value: function displayBanner() {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shoppageheaderMainDiv\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginRight: \"2px\",\n                fontSize: \"12px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"angle left icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 72\n              }, this), \"Back to Stores\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 20\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shoppageheaderDiv\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Shoppageheader, {\n                store_name: this.store_name,\n                store_address: this.store_address\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }, this);\n    }\n  }, {\n    key: \"displaySearchBar\",\n    value: function displaySearchBar() {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"searchBar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ui category search\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ui icon input\",\n            children: [/*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: this.handleSubmit,\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"prompt\",\n                type: \"text\",\n                placeholder: \"Search product\",\n                value: this.state.searchedTerm,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"search icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"results\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 7\n      }, this);\n    }\n  }, {\n    key: \"renderOptions\",\n    value: function renderOptions(categories) {\n      var _this2 = this;\n      return categories.map(function (option) {\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          value: option,\n          children: option\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 14\n        }, _this2);\n      });\n    }\n  }, {\n    key: \"displayCategories\",\n    value: function displayCategories() {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"categories\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ui orange buttons\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ui form \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                multiple: \"\",\n                className: \"categories\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Categories\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"AF\",\n                  children: \"Flours & Wheats\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"AX\",\n                  children: \"Canned foods\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"AL\",\n                  children: \"Vegetables\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 7\n      }, this);\n    }\n\n    //// Function to get the inventory of the store\n  }, {\n    key: \"displayProducts\",\n    value:\n    ////// Display product results\n    function displayProducts(searchTerm) {\n      //Get ID of selected store\n      var storesId = this.store_inventory_id;\n      ///Filter through inventory list to get selected store's inventory\n      this.selectedStoresInventory = _.filter(this.props.inventories, function (o) {\n        return o.id === \"22kfPojPGRMekKhsEGfa\";\n      });\n      if (this.selectedStoresInventory[0] !== undefined) {\n        //// Fetch products from inventory\n        this.inventory = this.selectedStoresInventory[0].inventory;\n      }\n\n      ///Get list of products\n      var products = this.props.products;\n      if (!products) {\n        console.log(\"Total number of products is:\" + products);\n      }\n      var results = [];\n      //Iterate through each product in the store's inventory.\n\n      _.forEach(this.inventory, function (value) {\n        //Get product's name and image url\n        var productdetails = _.find(products, function (o) {\n          return o.id === value.productId;\n        });\n        if (productdetails !== undefined) {\n          ///// Populate results array with store's products/product details.\n          results = _.concat(results, {\n            productId: value.productId,\n            productName: _.lowerCase(productdetails.name),\n            productPrice: value.productPrice,\n            productImgUrl: productdetails.imageurl,\n            productCategory: _.lowerCase(productdetails.category)\n          });\n        }\n      });\n\n      ///Filter products by category, if a category has been set\n      if (this.state.selectedCategory !== \"Categories\") {\n        var tempSelectedCategory = this.state.selectedCategory;\n        results = _.filter(results, function (o) {\n          return _.includes(o.productCategory, tempSelectedCategory);\n        });\n      }\n\n      //Filter products by search term, if a search term has been entered\n      ///If there is a search term, convert to lowercase\n      if (searchTerm) {\n        searchTerm = _.lowerCase(searchTerm);\n      }\n      results = _.filter(results, function (o) {\n        return _.includes(o.productName, searchTerm);\n      });\n      return results;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ui grid\",\n        children: [showModal(this.props.cartModalActive, this.props.setCartModalState, this.props.cart), this.displayBanner(), this.displaySearchBar(), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"categories\",\n          style: {},\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"ui teal button\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                defaultValue: this.state.categoryOptions[0],\n                onChange: function onChange(e) {\n                  _this3.handleUpdateSelectedCategory(e);\n                },\n                children: this.renderOptions(this.state.categoryOptions)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(DisplayProductResults, {\n          productResults: this.displayProducts(this.state.searchedTerm)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ScrollButton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n  return Shoppage;\n}(React.Component);\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    storesInvetory: state.storesInvetory,\n    products: state.products,\n    inventories: state.storesInvetory,\n    stores: state.stores,\n    cartModalActive: state.cartModalActive,\n    cart: state.cart\n  };\n};\nexport default connect(mapStateToProps, {\n  fetchStoresInventory: fetchStoresInventory,\n  setCartModalState: setCartModalState\n})(Shoppage);","map":{"version":3,"names":["React","_","Shoppageheader","DisplayProductResults","fetchStoresInventory","setCartModalState","connect","CartModal","showModal","ScrollButton","Link","Shoppage","props","store_name","store_address","store_id","store_inventory_id","selectedStoresInventory","store_inventory","inventories","map","inventory","state","searchedTerm","selectedCategory","categoryOptions","handleChange","bind","handleSubmit","handleUpdateSelectedCategory","useParams","id","name","address","inventory_id","stores_name","console","log","err","event","setState","target","value","preventDefault","marginRight","fontSize","categories","option","searchTerm","storesId","filter","o","undefined","products","results","forEach","productdetails","find","productId","concat","productName","lowerCase","productPrice","productImgUrl","imageurl","productCategory","category","tempSelectedCategory","includes","cartModalActive","cart","displayBanner","displaySearchBar","e","renderOptions","displayProducts","Component","mapStateToProps","storesInvetory","stores"],"sources":["/Users/davis/Desktop/Nonsao/testEnv/foreignBasketFrontend/src/Shoppage.js"],"sourcesContent":["import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport Shoppageheader from \"./components/Shoppageheader\";\r\n\r\nimport DisplayProductResults from \"./components/DisplayProductResults\";\r\nimport \"./index.css\";\r\nimport { fetchStoresInventory, setCartModalState } from \"./actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { CartModal } from \"./Cartmodal\";\r\nimport { showModal } from \"./components/isModalActive\";\r\nimport  ScrollButton  from \"./components/ScrollButton\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Shoppage extends React.Component {\r\n  \r\n\r\n  store_name = \" \";\r\n  store_address = \" \";\r\n  store_id = \" \";\r\n  store_inventory_id = \" \";\r\n  selectedStoresInventory = [];\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      searchedTerm: \"\",\r\n      selectedCategory: \"Categories\",\r\n\r\n      categoryOptions: [\r\n        \"Categories\",\r\n        \"meat and seafood\",\r\n        \"condiments\",\r\n        \"drinks and beverages\",\r\n        \"fruits and vegetables\",\r\n        \"grain, flour and cereal\",\r\n        \"snacks and confectionaries\",\r\n        \"beauty and household\"\r\n      ]\r\n\r\n      \r\n\r\n    }\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n     // bind the handleUpdateSelectedCategory method\r\n    this.handleUpdateSelectedCategory = this.handleUpdateSelectedCategory.bind(this);\r\n    \r\n  }\r\n\r\n    componentDidMount() {\r\n      try {\r\n       // if (this.props.location.state === undefined || (!this.props.location)) {\r\n       //   this.props.history.push(\"/\");\r\n       // } else {\r\n\r\n        const { id, name, address, inventory_id } = useParams();\r\n        this.store_id = {id};\r\n        this.stores_name = {name};\r\n        this.store_address = {address};\r\n        this.store_inventory_id = {inventory_id};\r\n\r\n      \r\n      \r\n       console.log(this.store_id);\r\n\r\n          //this.store_name = this.props.location.state.store_name;\r\n         // this.store_address = this.props.location.state.store_address;\r\n          //this.store_id = this.props.location.state.store_id;\r\n         // this.store_inventory_id = this.props.location.state.store_inventory_id;\r\n         \r\n  \r\n       // }\r\n      } catch (err) {}\r\n  \r\n    }\r\n\r\n\r\n   \r\n/**  \r\n    ///Redirect to front page if the  shop url was entered directly into address bar, else set header values\r\n\r\n    \r\n  */ \r\n\r\n  \r\n\r\n  \r\n\r\n\r\n \r\n\r\n  handleChange(event) {\r\n    this.setState({ searchedTerm: event.target.value });\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    console.log(\"search term has been submitted\", this.state.searchedTerm);\r\n    event.preventDefault();\r\n  }\r\n\r\n  handleUpdateSelectedCategory(event) {\r\n    try {\r\n      var value = event.target.value;\r\n\r\n      this.setState({ selectedCategory: value });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n\r\n  displayBanner() {\r\n    return (\r\n      <div className=\"shoppageheaderMainDiv\">\r\n        <div>\r\n      <Link to=\"/\"><span style ={{marginRight:\"2px\", fontSize:\"12px\"}}><i className=\"angle left icon\"></i>Back to Stores</span></Link>\r\n      <div className=\"shoppageheaderDiv\">\r\n        <div>\r\n        <Shoppageheader\r\n          store_name={this.store_name}\r\n          store_address={this.store_address}\r\n        />\r\n        </div>\r\n      </div>\r\n      </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  displaySearchBar() {\r\n    return (\r\n      <div className=\"searchBar\">\r\n        <div className=\"ui category search\">\r\n          <div className=\"ui icon input\">\r\n            <form onSubmit={this.handleSubmit}>\r\n              <input\r\n                className=\"prompt\"\r\n                type=\"text\"\r\n                placeholder=\"Search product\"\r\n                value={this.state.searchedTerm}\r\n                onChange={this.handleChange}\r\n              />\r\n            </form>\r\n            <i className=\"search icon\"></i>\r\n          </div>\r\n          <div className=\"results\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderOptions(categories) {\r\n    return categories.map((option) => {\r\n      return <option value={option}>{option}</option>;\r\n    });\r\n  }\r\n\r\n  displayCategories() {\r\n    return (\r\n      <div className=\"categories\">\r\n        <div className=\"ui orange buttons\">\r\n          <div className=\"ui form \">\r\n            <div className=\"field\">\r\n              <select multiple=\"\" className=\"categories\">\r\n                <option value=\"\">Categories</option>\r\n                <option value=\"AF\">Flours & Wheats</option>\r\n                <option value=\"AX\">Canned foods</option>\r\n                <option value=\"AL\">Vegetables</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  //// Function to get the inventory of the store\r\n  store_inventory = () => {\r\n    return this.props.inventories.map((inventory) => {\r\n      /**   if (inventory.id === this.store_inventory_id) {\r\n        //this.setState({ store_inventory: inventory });\r\n        //  console.log(inventory.inventory[0].productId);\r\n        // console.log(inventory.inventory);\r\n        return inventory.inventory;\r\n      }*/\r\n\r\n      return null;\r\n    });\r\n  };\r\n\r\n  ////// Display product results\r\n  displayProducts(searchTerm) {\r\n    //Get ID of selected store\r\n    const storesId = this.store_inventory_id;\r\n    ///Filter through inventory list to get selected store's inventory\r\n    this.selectedStoresInventory = _.filter(this.props.inventories, function (\r\n      o\r\n    ) {\r\n      return o.id === \"22kfPojPGRMekKhsEGfa\"\r\n    });\r\n\r\n    if (this.selectedStoresInventory[0] !== undefined) {\r\n      //// Fetch products from inventory\r\n      this.inventory = this.selectedStoresInventory[0].inventory;\r\n    }\r\n\r\n    ///Get list of products\r\n    const products = this.props.products;\r\n\r\n    if(!products) {\r\n      console.log(\"Total number of products is:\" + products);\r\n\r\n      \r\n    }\r\n\r\n    let results = [];\r\n    //Iterate through each product in the store's inventory.\r\n\r\n    _.forEach(this.inventory, function (value) {\r\n      //Get product's name and image url\r\n      let productdetails = _.find(products, function (o) {\r\n        return o.id === value.productId;\r\n      });\r\n\r\n      if (productdetails !== undefined) {\r\n        ///// Populate results array with store's products/product details.\r\n        results = _.concat(results, {\r\n          productId: value.productId,\r\n          productName: _.lowerCase(productdetails.name),\r\n          productPrice: value.productPrice,\r\n          productImgUrl: productdetails.imageurl,\r\n          productCategory: _.lowerCase(productdetails.category)\r\n        });\r\n      }\r\n    });\r\n\r\n    ///Filter products by category, if a category has been set\r\n    if (this.state.selectedCategory !== \"Categories\") {\r\n      var tempSelectedCategory = this.state.selectedCategory;\r\n      results = _.filter(results, function (o) {\r\n        return _.includes(o.productCategory, tempSelectedCategory);\r\n      });\r\n    }\r\n\r\n    //Filter products by search term, if a search term has been entered\r\n    ///If there is a search term, convert to lowercase\r\n    if (searchTerm) {\r\n      searchTerm = _.lowerCase(searchTerm);\r\n    }\r\n\r\n    results = _.filter(results, function (o) {\r\n      return _.includes(o.productName, searchTerm);\r\n    });\r\n\r\n    return results;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"ui grid\">\r\n        {showModal(\r\n          this.props.cartModalActive,\r\n          this.props.setCartModalState,\r\n          this.props.cart\r\n        )}\r\n        {this.displayBanner()}\r\n        \r\n        {this.displaySearchBar()}\r\n       \r\n        <div className=\"categories\" style={{}}>\r\n          <form className=\"ui teal button\">\r\n            <label>\r\n              <select\r\n                defaultValue={this.state.categoryOptions[0]}\r\n                onChange={(e) => {\r\n                  this.handleUpdateSelectedCategory(e);\r\n                }}\r\n              >\r\n                {this.renderOptions(this.state.categoryOptions)}\r\n              </select>\r\n            </label>\r\n          </form>\r\n        </div>\r\n        <DisplayProductResults\r\n          productResults={this.displayProducts(this.state.searchedTerm)}\r\n        />\r\n        <ScrollButton />\r\n        \r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    storesInvetory: state.storesInvetory,\r\n    products: state.products,\r\n    inventories: state.storesInvetory,\r\n    stores: state.stores,\r\n    cartModalActive: state.cartModalActive,\r\n    cart: state.cart\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchStoresInventory,\r\n  setCartModalState\r\n})(Shoppage);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}