{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Validator from 'validator';\nvar formComponent = function formComponent(WrappedComponent) {\n  var _class, _temp;\n  return _temp = _class = /*#__PURE__*/\n  function (_React$Component) {\n    _inheritsLoose(FormComponent, _React$Component);\n    function FormComponent() {\n      var _this;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n      _this.state = {\n        isValid: true,\n        serverError: null\n      };\n      _this.getValue = function () {\n        if (typeof _this.FormComponent.getValue === 'function') {\n          // If component getValue function defined on component\n          return _this.FormComponent.getValue();\n        }\n        if (_this.FormComponent.state && Object.prototype.hasOwnProperty.call(_this.FormComponent.state, 'value')) {\n          // If component uses state to store value\n          return _this.FormComponent.state.value;\n        }\n        return console.error('Using FormComponent with no way to retrieve FormComponent value');\n      };\n      _this.hasValue = function () {\n        var value = _this.getValue();\n        return value !== '' && value !== undefined && value !== null && !(Array.isArray(value) && value.length === 0);\n      };\n      return _this;\n    }\n    var _proto = FormComponent.prototype;\n    _proto.componentWillMount = function componentWillMount() {\n      var _this$props = this.props,\n        id = _this$props.id,\n        name = _this$props.name; // uniqueId is needed label htmlFor properties etc.\n\n      this.uniqueId = id || (name + \"-\" + Math.floor(Math.random() * 0xffff)).replace(/[^A-Za-z0-9-]/gi, '');\n      this.context.ICFormable && this.context.ICFormable.registerComponent(this);\n    };\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this.context.ICFormable && this.context.ICFormable.unregisterComponent(this);\n    };\n    _proto.validate = function validate() {\n      var _this$props2 = this.props,\n        regexValidation = _this$props2.regexValidation,\n        required = _this$props2.required,\n        validations = _this$props2.validations;\n      var serverError = this.state.serverError;\n      var value = this.getValue();\n      var isValid = true; // Check if has no validations\n\n      if (!validations && !required && !serverError && !regexValidation) {\n        return isValid;\n      } // Check required validation\n\n      if (required && !this.hasValue()) {\n        isValid = false;\n      } // Check Validator.js validations\n\n      if (isValid && value && validations) {\n        Object.keys(validations).forEach(function (validateMethod) {\n          var options = validations[validateMethod];\n          var args = [value].concat(options).filter(function (v) {\n            return v;\n          }); // Remove null options\n\n          if (!Validator[validateMethod].apply(Validator, args)) {\n            isValid = false;\n          }\n        });\n      } // Check regex validation\n\n      if (isValid && value && regexValidation) {\n        var re = new RegExp(regexValidation);\n        isValid = re.test(value);\n      }\n      this.setState({\n        isValid: isValid,\n        serverError: null\n      });\n      return isValid;\n    };\n    _proto.render = function render() {\n      var _this2 = this;\n      var _this$state = this.state,\n        isValid = _this$state.isValid,\n        serverError = _this$state.serverError,\n        disabled = _this$state.disabled;\n      var hasError = !disabled && !isValid && isValid !== undefined || !!serverError;\n      var formComponentProps = _extends({\n        isValid: isValid,\n        ref: function ref(node) {\n          _this2.FormComponent = node;\n        },\n        serverError: serverError,\n        hasError: hasError,\n        id: this.uniqueId\n      }, this.props);\n      return React.createElement(WrappedComponent, formComponentProps);\n    };\n    return FormComponent;\n  }(React.Component), _class.propTypes = {\n    /** Model name for Form */\n    name: PropTypes.string.isRequired,\n    /** Disable the input; Will be removed from model in Form onSubmit callback */\n    disabled: PropTypes.bool,\n    /** Uniq id for input */\n    id: PropTypes.string,\n    /** Mark input as required */\n    required: PropTypes.bool,\n    /** Regex Validation pattern */\n    regexValidation: PropTypes.string,\n    /** Validations from validator.js */\n    validations: PropTypes.object\n  }, _class.contextTypes = {\n    ICFormable: PropTypes.object\n  }, _temp;\n};\nexport default formComponent;","map":{"version":3,"names":["_extends","_inheritsLoose","React","PropTypes","Validator","formComponent","WrappedComponent","_class","_temp","_React$Component","FormComponent","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","isValid","serverError","getValue","Object","prototype","hasOwnProperty","value","console","error","hasValue","undefined","isArray","_proto","componentWillMount","_this$props","props","id","name","uniqueId","Math","floor","random","replace","context","ICFormable","registerComponent","componentWillUnmount","unregisterComponent","validate","_this$props2","regexValidation","required","validations","keys","forEach","validateMethod","options","filter","v","re","RegExp","test","setState","render","_this2","_this$state","disabled","hasError","formComponentProps","ref","node","createElement","Component","propTypes","string","isRequired","bool","object","contextTypes"],"sources":["/Users/davis/Desktop/Nonsao/Front/node_modules/ic-snacks/dist/esm/components/Forms/FormComponent.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Validator from 'validator';\n\nvar formComponent = function formComponent(WrappedComponent) {\n  var _class, _temp;\n\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_React$Component) {\n    _inheritsLoose(FormComponent, _React$Component);\n\n    function FormComponent() {\n      var _this;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n      _this.state = {\n        isValid: true,\n        serverError: null\n      };\n\n      _this.getValue = function () {\n        if (typeof _this.FormComponent.getValue === 'function') {\n          // If component getValue function defined on component\n          return _this.FormComponent.getValue();\n        }\n\n        if (_this.FormComponent.state && Object.prototype.hasOwnProperty.call(_this.FormComponent.state, 'value')) {\n          // If component uses state to store value\n          return _this.FormComponent.state.value;\n        }\n\n        return console.error('Using FormComponent with no way to retrieve FormComponent value');\n      };\n\n      _this.hasValue = function () {\n        var value = _this.getValue();\n\n        return value !== '' && value !== undefined && value !== null && !(Array.isArray(value) && value.length === 0);\n      };\n\n      return _this;\n    }\n\n    var _proto = FormComponent.prototype;\n\n    _proto.componentWillMount = function componentWillMount() {\n      var _this$props = this.props,\n          id = _this$props.id,\n          name = _this$props.name; // uniqueId is needed label htmlFor properties etc.\n\n      this.uniqueId = id || (name + \"-\" + Math.floor(Math.random() * 0xffff)).replace(/[^A-Za-z0-9-]/gi, '');\n      this.context.ICFormable && this.context.ICFormable.registerComponent(this);\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this.context.ICFormable && this.context.ICFormable.unregisterComponent(this);\n    };\n\n    _proto.validate = function validate() {\n      var _this$props2 = this.props,\n          regexValidation = _this$props2.regexValidation,\n          required = _this$props2.required,\n          validations = _this$props2.validations;\n      var serverError = this.state.serverError;\n      var value = this.getValue();\n      var isValid = true; // Check if has no validations\n\n      if (!validations && !required && !serverError && !regexValidation) {\n        return isValid;\n      } // Check required validation\n\n\n      if (required && !this.hasValue()) {\n        isValid = false;\n      } // Check Validator.js validations\n\n\n      if (isValid && value && validations) {\n        Object.keys(validations).forEach(function (validateMethod) {\n          var options = validations[validateMethod];\n          var args = [value].concat(options).filter(function (v) {\n            return v;\n          }); // Remove null options\n\n          if (!Validator[validateMethod].apply(Validator, args)) {\n            isValid = false;\n          }\n        });\n      } // Check regex validation\n\n\n      if (isValid && value && regexValidation) {\n        var re = new RegExp(regexValidation);\n        isValid = re.test(value);\n      }\n\n      this.setState({\n        isValid: isValid,\n        serverError: null\n      });\n      return isValid;\n    };\n\n    _proto.render = function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          isValid = _this$state.isValid,\n          serverError = _this$state.serverError,\n          disabled = _this$state.disabled;\n      var hasError = !disabled && !isValid && isValid !== undefined || !!serverError;\n\n      var formComponentProps = _extends({\n        isValid: isValid,\n        ref: function ref(node) {\n          _this2.FormComponent = node;\n        },\n        serverError: serverError,\n        hasError: hasError,\n        id: this.uniqueId\n      }, this.props);\n\n      return React.createElement(WrappedComponent, formComponentProps);\n    };\n\n    return FormComponent;\n  }(React.Component), _class.propTypes = {\n    /** Model name for Form */\n    name: PropTypes.string.isRequired,\n\n    /** Disable the input; Will be removed from model in Form onSubmit callback */\n    disabled: PropTypes.bool,\n\n    /** Uniq id for input */\n    id: PropTypes.string,\n\n    /** Mark input as required */\n    required: PropTypes.bool,\n\n    /** Regex Validation pattern */\n    regexValidation: PropTypes.string,\n\n    /** Validations from validator.js */\n    validations: PropTypes.object\n  }, _class.contextTypes = {\n    ICFormable: PropTypes.object\n  }, _temp;\n};\n\nexport default formComponent;"],"mappings":"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"},"metadata":{},"sourceType":"module"}