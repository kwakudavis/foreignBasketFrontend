{"ast":null,"code":"import _toConsumableArray from \"/Users/davis/Desktop/Nonsao/testEnv/foreignBasketFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _ from \"lodash\";\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  //Set variables to handle product and currState\n  var product = action.payload;\n  var currState = state;\n  switch (action.type) {\n    case \"ADD_TOCART\":\n      ////// Attempt to find item in Cart\n      var queriedProduct = _.find(currState, function (o) {\n        return o.productId === product.productId;\n      });\n\n      ////////// If product was not found in cart, set product quantity to 1 and add item to cart\n      if (queriedProduct === undefined) {\n        product.QTY = 1;\n        currState = [product].concat(_toConsumableArray(state));\n      } else {\n        /////Otherwise, increase product quantity in cart by 1\n        currState = _.forEach(currState, function (o) {\n          if (o.productId === product.productId) {\n            o.QTY += 1;\n            return currState;\n          }\n        });\n      }\n      console.log(currState);\n      return currState;\n    case \"REMOVE_FROM_CART\":\n      //////Check if product is in cart\n      var productFetched = _.find(currState, function (o) {\n        return o.productId === product.productId;\n      });\n\n      /////Condition if product is in Cart\n      if (productFetched !== undefined) {\n        ///if the product quantity is 1, then remove product from Cart entirely and return Cart\n\n        if (productFetched.QTY === 1) {\n          currState = _.reject(currState, function (o) {\n            return o.productId === product.productId;\n          });\n          return currState;\n        } else {\n          ///Otherwise decrease product quantity by 1\n          currState = _.forEach(currState, function (o) {\n            if (o.productId === product.productId) {\n              o.QTY -= 1;\n              return currState;\n            }\n          });\n        }\n        return currState;\n      } else {\n        //////return do nothing and return previous state of cart\n\n        return currState;\n      }\n    case \"DELETE_FROM_CART\":\n      //////Reject product form the collection of products in the cart state.\n\n      currState = _.reject(currState, function (o) {\n        return o.productId === product.productId;\n      });\n      return currState;\n    case \"SUBMIT_ORDER_FORM\":\n      //////Empties cart after order has been submitted to server\n\n      currState = [];\n      return currState;\n    default:\n      return state;\n  }\n});","map":{"version":3,"names":["_","state","action","product","payload","currState","type","queriedProduct","find","o","productId","undefined","QTY","forEach","console","log","productFetched","reject"],"sources":["/Users/davis/Desktop/Nonsao/testEnv/foreignBasketFrontend/src/reducers/cartReducer.js"],"sourcesContent":["import _ from \"lodash\";\r\nexport default (state = [], action) => {\r\n  //Set variables to handle product and currState\r\n  const product = action.payload;\r\n  let currState = state;\r\n  switch (action.type) {\r\n    case \"ADD_TOCART\":\r\n      ////// Attempt to find item in Cart\r\n      const queriedProduct = _.find(currState, function (o) {\r\n        return o.productId === product.productId;\r\n      });\r\n\r\n      ////////// If product was not found in cart, set product quantity to 1 and add item to cart\r\n      if (queriedProduct === undefined) {\r\n        product.QTY = 1;\r\n        currState = [product, ...state];\r\n      } else {\r\n        /////Otherwise, increase product quantity in cart by 1\r\n        currState = _.forEach(currState, function (o) {\r\n          if (o.productId === product.productId) {\r\n            o.QTY += 1;\r\n            return currState;\r\n          }\r\n        });\r\n      }\r\n\r\n      console.log(currState);\r\n      return currState;\r\n\r\n    case \"REMOVE_FROM_CART\":\r\n      //////Check if product is in cart\r\n      const productFetched = _.find(currState, function (o) {\r\n        return o.productId === product.productId;\r\n      });\r\n\r\n      /////Condition if product is in Cart\r\n      if (productFetched !== undefined) {\r\n        ///if the product quantity is 1, then remove product from Cart entirely and return Cart\r\n\r\n        if (productFetched.QTY === 1) {\r\n          currState = _.reject(currState, function (o) {\r\n            return o.productId === product.productId;\r\n          });\r\n          return currState;\r\n        } else {\r\n          ///Otherwise decrease product quantity by 1\r\n          currState = _.forEach(currState, function (o) {\r\n            if (o.productId === product.productId) {\r\n              o.QTY -= 1;\r\n              return currState;\r\n            }\r\n          });\r\n        }\r\n        return currState;\r\n      } else {\r\n        //////return do nothing and return previous state of cart\r\n\r\n        return currState;\r\n      }\r\n\r\n    case \"DELETE_FROM_CART\":\r\n      //////Reject product form the collection of products in the cart state.\r\n\r\n      currState = _.reject(currState, function (o) {\r\n        return o.productId === product.productId;\r\n      });\r\n\r\n      return currState;\r\n\r\n    case \"SUBMIT_ORDER_FORM\":\r\n      //////Empties cart after order has been submitted to server\r\n\r\n      currState = [];\r\n      return currState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"],"mappings":";AAAA,OAAOA,CAAC,MAAM,QAAQ;AACtB,gBAAe,YAAwB;EAAA,IAAvBC,KAAK,uEAAG,EAAE;EAAA,IAAEC,MAAM;EAChC;EACA,IAAMC,OAAO,GAAGD,MAAM,CAACE,OAAO;EAC9B,IAAIC,SAAS,GAAGJ,KAAK;EACrB,QAAQC,MAAM,CAACI,IAAI;IACjB,KAAK,YAAY;MACf;MACA,IAAMC,cAAc,GAAGP,CAAC,CAACQ,IAAI,CAACH,SAAS,EAAE,UAAUI,CAAC,EAAE;QACpD,OAAOA,CAAC,CAACC,SAAS,KAAKP,OAAO,CAACO,SAAS;MAC1C,CAAC,CAAC;;MAEF;MACA,IAAIH,cAAc,KAAKI,SAAS,EAAE;QAChCR,OAAO,CAACS,GAAG,GAAG,CAAC;QACfP,SAAS,IAAIF,OAAO,4BAAKF,KAAK,EAAC;MACjC,CAAC,MAAM;QACL;QACAI,SAAS,GAAGL,CAAC,CAACa,OAAO,CAACR,SAAS,EAAE,UAAUI,CAAC,EAAE;UAC5C,IAAIA,CAAC,CAACC,SAAS,KAAKP,OAAO,CAACO,SAAS,EAAE;YACrCD,CAAC,CAACG,GAAG,IAAI,CAAC;YACV,OAAOP,SAAS;UAClB;QACF,CAAC,CAAC;MACJ;MAEAS,OAAO,CAACC,GAAG,CAACV,SAAS,CAAC;MACtB,OAAOA,SAAS;IAElB,KAAK,kBAAkB;MACrB;MACA,IAAMW,cAAc,GAAGhB,CAAC,CAACQ,IAAI,CAACH,SAAS,EAAE,UAAUI,CAAC,EAAE;QACpD,OAAOA,CAAC,CAACC,SAAS,KAAKP,OAAO,CAACO,SAAS;MAC1C,CAAC,CAAC;;MAEF;MACA,IAAIM,cAAc,KAAKL,SAAS,EAAE;QAChC;;QAEA,IAAIK,cAAc,CAACJ,GAAG,KAAK,CAAC,EAAE;UAC5BP,SAAS,GAAGL,CAAC,CAACiB,MAAM,CAACZ,SAAS,EAAE,UAAUI,CAAC,EAAE;YAC3C,OAAOA,CAAC,CAACC,SAAS,KAAKP,OAAO,CAACO,SAAS;UAC1C,CAAC,CAAC;UACF,OAAOL,SAAS;QAClB,CAAC,MAAM;UACL;UACAA,SAAS,GAAGL,CAAC,CAACa,OAAO,CAACR,SAAS,EAAE,UAAUI,CAAC,EAAE;YAC5C,IAAIA,CAAC,CAACC,SAAS,KAAKP,OAAO,CAACO,SAAS,EAAE;cACrCD,CAAC,CAACG,GAAG,IAAI,CAAC;cACV,OAAOP,SAAS;YAClB;UACF,CAAC,CAAC;QACJ;QACA,OAAOA,SAAS;MAClB,CAAC,MAAM;QACL;;QAEA,OAAOA,SAAS;MAClB;IAEF,KAAK,kBAAkB;MACrB;;MAEAA,SAAS,GAAGL,CAAC,CAACiB,MAAM,CAACZ,SAAS,EAAE,UAAUI,CAAC,EAAE;QAC3C,OAAOA,CAAC,CAACC,SAAS,KAAKP,OAAO,CAACO,SAAS;MAC1C,CAAC,CAAC;MAEF,OAAOL,SAAS;IAElB,KAAK,mBAAmB;MACtB;;MAEAA,SAAS,GAAG,EAAE;MACd,OAAOA,SAAS;IAElB;MACE,OAAOJ,KAAK;EAAC;AAEnB,CAAC"},"metadata":{},"sourceType":"module"}